<!DOCTYPE html >
<html class=" -webkit-">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title></title>
        <style type="text/css">
            body{
                padding-top: 30px;
            }
            .open-app {
                margin: 30px;
                border-radius: 5px;
                padding: 10px 20px;
                border: 1px solid #ccc;
            }
        </style>
        <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
    </head>
    <body>

        <a class="open-app">click me to store</a>
        
        <script type="text/javascript">
            var u = navigator.userAgent, isAndroid, isIOS
            window.onload = function() {
                //init()
                var brand = judgeBrand(navigator.userAgent.toLowerCase()); 
                var link = "market://details?id=com.qqeng.online";
                if (brand == 'iphone') {
                    link= "https://itunes.apple.com/WebObjects/MZStore.woa/wa/viewContentsUserReviews?id=682211190&pageNumber=0&sortOrdering=2&type=&mt=8";
                } else if (brand == 'huawei' ) {
                    link= "appmarket://details?id=com.qqeng.online";
                } else if (brand == 'oppo' ) {

                } else if (brand == 'vivo') {

                } else if (brand == 'xiaomi') {
                    //url 下载
                } else if (brand == 'samsung') {
                     //url 下载
                } else {
                     //url 下载
                    return 'default';
                }
            }

            // 调用第三方程序//浏览器调用
            function launchApp(link) {
                if (true ) {
                    //var link = "market://details?id=com.qqeng.online"
                    $('a').attr('href', link);
                } else if ( plus.os.name == "iOS" ) {
                    var url= "https://itunes.apple.com/WebObjects/MZStore.woa/wa/viewContentsUserReviews?id=682211190&pageNumber=0&sortOrdering=2&type=&mt=8";
                    plus.runtime.launchApplication( {action:url}, function ( e ) {
                        alert( "Open system default browser failed: " + e.message );
                    } );

                    
                }
            }
            

//通用 market://details?id=com.seebaby
//华为市场 appmarket://details?id=com.seebaby
//小米商店 mimarket://details?id=com.seebaby
//应用宝  tmast://appdetails?pname=com.seebaby

function judgeBrand(sUserAgent) {
       var isIphone = sUserAgent.match(/iphone/i) == "iphone";
       var isHuawei = sUserAgent.match(/huawei/i) == "huawei";
       var isHonor = sUserAgent.match(/honor/i) == "honor";
       var isOppo = sUserAgent.match(/oppo/i) == "oppo";
       var isOppoR15 = sUserAgent.match(/pacm00/i) == "pacm00";
       var isVivo = sUserAgent.match(/vivo/i) == "vivo";
       var isXiaomi = sUserAgent.match(/mi\s/i) == "mi ";
       var isXiaomi2s = sUserAgent.match(/mix\s/i) == "mix ";
       var isRedmi = sUserAgent.match(/redmi/i) == "redmi";
       var isSamsung = sUserAgent.match(/sm-/i) == "sm-";

       if (isIphone) {
           return 'iphone';
       } else if (isHuawei || isHonor) {
           return 'huawei';
       } else if (isOppo || isOppoR15) {
           return 'oppo';
       } else if (isVivo) {
           return 'vivo';
       } else if (isXiaomi || isRedmi || isXiaomi2s) {
           return 'xiaomi';
       } else if (isSamsung) {
           return 'samsung';
       } else {
           return 'default';
       }
   }
   
        </script>
    </body>
</html>
